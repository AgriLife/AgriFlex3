/* Site Header
---------------------------------------------------------------------------------------------------- */
@mixin header-search-width($breakpoint) {
	$logo-and-agencies-width: 900px;
	$search-box-width: $breakpoint - $logo-and-agencies-width;
	@media all and (min-width: $breakpoint) {
		width: $search-box-width;
		background-position: ($search-box-width - 22px) 45%;
	}
}

@mixin header-audience-button-margin($breakpoint) {
	$logo-width: 266px;
	$button-width: 172px;
	$left-margin: ($breakpoint - $logo-width - (4 * $button-width)) / 4;
	@media all and (min-width: $breakpoint) {
		& ~ li {
			margin-left: $left-margin;
		}
	}
}

.site-header {

	/* Title Area
	--------------------------------------------- */

	.title-area {
		font-weight: 700;
		float: left;
		padding: 16px 0;
	}

	.college-title {
		margin: 0;

		a {
			border: 0;
			overflow: hidden;
			padding: 50px 130px;
			background: url("../img/logo-college-maroon.png") no-repeat center transparent;
			background-size: 190px 37px;
			width: 190px;
			height: 37px;

			span {
				display: none;
			}
		}
	}

	.site-description {
		color: $site-description;
		@include adjust-font-size-to(14px);
		font-weight: 300;
		margin: 0;
		font-family: "quatro-slab", serif;
		font-style: normal;
		text-rendering: optimizeLegibility;
	}


	/* Full width header, no widgets */

	.header-full-width .title-area,
	.header-full-width .site-title {
	}

	/* Widget Area
	--------------------------------------------- */

	.widget-area {
	}

	.menu-secondary {
		display: none;
	}

	ul.genesis-nav-menu,
	.search-form {
		float: none;
	}

	.site-description,
	.title-area,
	.search-form {
		text-align: center;
	}

	.site-title {
		font: 700 2.75rem "quatro-slab", serif;
		line-height: 1;
		text-align: center;
		margin: .5em;
		color: #222;
		font-style: normal;
		text-rendering: optimizelegibility;
	}
}


.primary-search,
.agency-bar {
	display: none;
}

.header-image .site-header .wrap {
	background-position: center top;
}

@media only screen and (-webkit-min-device-pixel-ratio: 1.5),
	only screen and (-moz-min-device-pixel-ratio: 1.5),
	only screen and (-o-min-device-pixel-ratio: 3/2),
	only screen and (min-device-pixel-ratio: 1.5) {

		.header-image .site-header .wrap {
			background: url(images/logo@2x.png) no-repeat left;
			background-size: 360px 164px;
		}

}

.mainsite-internalpage {
	.college-title a {
		background-size: auto;
	}

	.agency-bar ul {
		@media all and (min-width: 636px) {
			width: 100%;
		}

		@media all and (min-width: 721px) {
			left: 264px;
		}

		@media all and (min-width: 721px) {
			left: 260px;
		}

		@media all and (max-width: 969px) {
			left: 0;
		}
		@media all and (min-width: 970px) {
			text-align: left;
		}
	}

	.nav-primary ul.menu-search-container .search li {
		input[type="search"],
		input[type="submit"] {
			height: auto;
		}
	}

	.site-header {
		.wrap {
			margin-top: 0;
			max-width: 71.25rem;
		}

		.title-area {
			padding: 26px 0;
			position: relative;

			@media all and (min-width: #{lower-bound($medium-range)}) and (max-width: 837px) {
				padding-bottom: 67px;
			}

			.primary-search {
				@media all and (max-width: 1040px) {
					padding-right: 2px;
				}

				@media all and (min-width: 1040px) and (max-width: 1140px) {
					padding-right: 0;
				}

				@media all and (max-width: 969px) {
					padding-top: .8em;
					padding-right: 10px;
				}

				input[type="search"] {
					@include header-search-width(970px);
					@include header-search-width(980px);
					@include header-search-width(990px);
					@include header-search-width(1000px);
					@include header-search-width(1015px);
					@include header-search-width(1030px);
					@include header-search-width(1060px);
					@include header-search-width(1100px);
				}
			}
		}

		.widget-area .menu-secondary {
			@media all and (min-width: 838px) {
				li {
					margin: 0;
				}
			}

			@media all and (min-width: 838px) and (max-width: 969px) {
				width: 357px;
				height: 93px;
				right: 203px;
				top: 13px;
				left: auto;

				li {
					position: absolute;
					top: 0;
					left: 0;

					& + li {
						left: auto;
						right: 0;
					}

					& + li + li {
						top: auto;
						right: auto;
						bottom: 0;
						left: 0;
					}

					& + li + li + li {
						left: auto;
						top: auto;
						right: 0;
						bottom: 0;
					}
				}
			}

			@media all and (min-width: 970px) {
				width: 100%;
				height: auto;
				right: 0;
				top: 68px;
				text-align: right;

				ul {
					float: right;
				}

				li {
					position: static;
					display: inline-block;
				}
			}

			li {
				@include header-audience-button-margin(970px);
				@include header-audience-button-margin(980px);
				@include header-audience-button-margin(990px);
				@include header-audience-button-margin(1000px);
				@include header-audience-button-margin(1015px);
				@include header-audience-button-margin(1030px);
				@include header-audience-button-margin(1060px);
				@include header-audience-button-margin(1100px);
			}
		}
	}
}

@media #{$small-up} {

}

@media #{$small-only} {

}

@media #{$medium-up} {

	#imageView {
		position: absolute;
		top: 200px;
		width: 100%;
	}
	.site-header {

		.wrap {
			position: relative;
		}

		.site-title {
			margin: 2em 0 0 0;
		}

		.college-title {
			margin: -20px 0 0 0;

			a {
				border: 0;
				overflow: hidden;
				border-bottom: #FFF 8px solid;
				border-right: #FFF 10px solid;
				border-left: #FFF 10px solid;
				padding: 28px 20px 37px 20px;
				position: absolute;
				z-index: 3;
				background: url("../img/logo-college.png") no-repeat center $primary-color;
				background-size: 146px 28px;
				width: 200px;
				height: 37px;
				@include box-shadow();

				span {
					display: none;
				}
			}
		}

		.widget-area {
			float: right;
			text-align: right;
		}

		.title-area {
			padding: 16px 1em;
			position: relative;
		}

		.site-description,
		.title-area,
		.search-form,
		.site-title {
			text-align: left;
		}

		.search-form {
			float: right;
			max-height: none;
			margin: 0.1em 0 0 0;

			input[type="search"] {
				width: 180px;
				border: 1px solid #D5D6DA;
				padding: 0.1em .3em;
				background: #FFF url("../img/search-college.png") no-repeat 150px 45%;
			}

			fieldset {
				position: relative;
				border: 0;
				padding: 0;
				margin: 0;
			}

			.search-submit {
				background: none;
				padding: 0.78em 1em;
				border: 0;
				border-left: 1px solid #808080;
				color: #808080;
				position: absolute;
				top: 0;
				right: 0;
				z-index: 1;
				width: auto;
				.icon-search:before {
					content: "\73";
				}
			}
		}

		.primary-search {
			display: block;
			position: absolute;
			z-index: 3;
			right: 0;
			top: 0;
			padding: 1em;
		}

	}

	.header-image .site-header .widget-area {
		padding: 40px 0;
	}

	.agency-bar {
		$nav-item-width: 116;
		$nav-item-height: 42;
		$nav-item-bgcolor: #5E564E;
		$nav-item-pipe-width: 28;
		$nav-item-bgoffset-x: 12;

		@include grid-row();
		background-color: $gray-agency-bar;
		max-width: 100%;
		height: #{$nav-item-height}px;
		display: block;

		& + .site-container .site-header .college-title a {
			z-index: 5;
		}

		.agency-wrap {
			position: relative;
			@include grid-column($center: true, $collapse: true);
			width: 100%;

		}

		ul {
			position: absolute;
			width: 100%;
			margin: 0;
			text-align: center;

			li {
				display: inline-block;
				position: relative;
				z-index: 5;

				&:after {
					content: "";
					display: block;
					width: 100%;
					height: 100%;
					position: absolute;
					top: 0;
					left: 0;
					z-index: 1;
					-webkit-transform: skewX(-20deg);
					transform: skewX(-20deg);
					box-shadow: 0 0 10px #222;
					background: $nav-item-bgcolor;
				}

				&:hover:after {
					background-color: #4F5628;
				}

				a {
					background: url("../img/college/agency-nav.png") no-repeat #{$nav-item-bgoffset-x}px 0;
					cursor: pointer;
					display: block;
					height: #{$nav-item-height}px;
					width: $nav-item-width + $nav-item-pipe-width * 1px;
					opacity: 0.35;
					text-indent: -9999em;
					position: relative;
					z-index: 2;
					transition: none 300ms ease-out;

					&:hover {
						opacity: 1;
					}
				}

				&.tvmdl-item {
					z-index: 4;
					&:hover:after {
						background-color: #A3B2A4;
					}
					a {
						width: $nav-item-pipe-width + 72px;
						background-position: #{$nav-item-bgoffset-x}px $nav-item-height * -1px;
					}
				}

				&.ext-item {
					z-index: 3;
					&:hover:after {
						background-color: #1B607B;
					}
					a {
						width: $nav-item-pipe-width + 83px;
						background-position: #{$nav-item-bgoffset-x}px $nav-item-height * -2px;
					}
				}

				&.res-item {
					z-index: 2;
					&:hover:after {
						background-color: #5C8C39;
					}
					a {
						width: $nav-item-pipe-width + 81px;
						background-position: #{$nav-item-bgoffset-x}px $nav-item-height * -3px;
					}
				}

				&.college-item {
					z-index: 1;
					&:hover:after {
						background-color: #5C0025;
					}
					a {
						background-position: #{$nav-item-bgoffset-x}px $nav-item-height * -4px;
					}
				}
			}
		}
	}

	.site-header .menu-secondary {
		display: block;
		position: absolute;
		top: 62px;
		right: 0;

		ul {
			margin: 0;
			padding: 0;
		}

		li {
			margin: 0 0 0 16px;
			padding: 2px;
			border: 1px solid rgb(80, 0, 0);
			list-style: none;
			display: inline-block;

			&:first-child {
				margin-left: 0;
			}

			&:hover {
				@include transition-property(all);
				@include transition-duration(.15s);
				@include transition-timing-function(ease-in);
				border: 1px solid rgb(80, 0, 0);
				border: 1px solid rgba(80, 0, 0, .7);
			}
		}

		a {
			display: block;
			margin-right: 1px;
			font-size: 1.1em;
			font-family: "rosewood-std-fill", sans-serif;
			text-transform: underline;
			line-height: 2em;
			text-align: center;
			// color: rgba(0,0,0,0.6); //white;
			color: #FFF;
			// background: $translucent-white; //rgba(0,0,0,0.4);
			background: rgb(80, 0, 0);
			height: 35px;
			width: 165px;
			text-decoration: none;
			&:hover {
				@include transition-property(all);
				@include transition-duration(.15s);
				@include transition-timing-function(ease-in);
				background: rgba(80, 0, 0, .7);
				color: #FFF;
				text-decoration: none;
			}
		}
	}

	.mainsite-internalpage {
		.agency-bar {
			.agency-wrap {
				max-width: 71.25rem;
				box-sizing: content-box;
			}

			ul {
				position: relative;
			}
		}

		.site-header {
			.college-title {
				margin-top: -26px;

				a {
					display: block;
					padding: 27px 20px 37px 20px;
					border-width: 0 13px 10px;
					color: #500000;
					overflow: hidden;
					text-indent: -9999px;
					background-size: 183px 34px;
					position: relative;
					width: 200px + 20px + 20px + 13px + 13px;
					height: 36px + 27px + 37px + 10px;
					z-index: 99;
				}
			}

			.site-title {
				display: none;
			}

			.menu-secondary {
				display: block;
				position: absolute;
				left: 0;
				top: 123px;
				width: 100%;

				ul {
					text-align: center;
					overflow: hidden;
				}

				li {
					margin: 0 0 0 1%;
					padding: 2px;
					border: 1px solid rgb(80, 0, 0);
					list-style: none;
					display: inline-block;

					&:first-child {
						margin-left: 0;
					}

					&:hover {
						@include transition-property(all);
						@include transition-duration(.15s);
						@include transition-timing-function(ease-in);
						border: 1px solid rgb(80, 0, 0);
						border: 1px solid rgba(80, 0, 0, .7);
					}
				}

				a {
					display: block;
					margin-right: 1px;
					font-size: 1.1em;
					font-family: "rosewood-std-fill", sans-serif;
					text-transform: underline;
					line-height: 2em;
					text-align: center;
					// color: rgba(0,0,0,0.6); //white;
					color: #FFF;
					// background: $translucent-white; //rgba(0,0,0,0.4);
					background: rgb(80, 0, 0);
					height: 35px;
					width: 165px;
					text-decoration: none;
					&:hover {
						@include transition-property(all);
						@include transition-duration(.15s);
						@include transition-timing-function(ease-in);
						background: rgba(80, 0, 0, .7);
						color: #FFF;
						text-decoration: none;
					}
				}
			}
		}
	}

}

@media #{$medium-only} {

}

@media #{$medium-up-common} {
	$nav-item-width: 116;
	$nav-item-pipe-width: 28;
	$nav-item-bgoffset-x: 12;

	.agency-bar {
		position: absolute;
		z-index: 3;

		ul {
			left: 208px;
			width: auto;

			li:first-child a {
				width: 8 + $nav-item-width + $nav-item-pipe-width * 1px;
				background-position: #{$nav-item-bgoffset-x + 8}px 0;
			}
		}
	}
	.site-header .primary-search {
		padding: 0 1em 0 0;
	}

	.agriflex-college-background {
		background-repeat: no-repeat;
		background-position: center top;
		background-size: 100% auto;

		&,
		.agriflex-college-background-gradient {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
		}

		.agriflex-college-background-gradient {
			// IE9 SVG, needs conditional override of 'filter' to 'none'
			$experimental-support-for-svg: true !global;
			@include background-image(linear-gradient(top, rgba(212, 212, 212, 0) 0, rgba(212, 212, 212, 0) 70%, #D4D4D4 100%));
		}
	}

}

@media #{$large-up} {

	.agency-bar {

		.agency-wrap {
			width: $row-width;
		}

		ul {
			left: 192px;
		}
	}

	.site-header {
		.title-area {
			padding: 16px 0;
		}
		.primary-search {
			padding: 0;
		}
	}
	.mainsite-internalpage .site-header .widget-area .menu-secondary li ~ li {
		margin-left: 46px;
	}

}

@media #{$xlarge-up} {

}

@media #{$xlarge-only} {

}

@media #{$xxlarge-up} {

}

@media #{$xxlarge-only} {

}
